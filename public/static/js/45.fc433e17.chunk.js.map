{"version":3,"sources":["functions/product.js","pages/admin/accounting/Accounting.js"],"names":["createProduct","product","authtoken","a","axios","post","process","headers","getProducts","get","getProduct","slug","updateProduct","_id","put","removeProduct","delete","removeFile","fileName","uploadImage","data","slugBrand","type","removeUnusedFile","TabPane","Tabs","Accounting","useState","products","setProducts","useEffect","then","res","catch","err","console","log","defaultActiveKey","tab","className","classes","tableContainer","scope","map","p","index","name","brand","count"],"mappings":"waAGaA,EAAa,uCAAG,WAAOC,EAASC,GAAhB,SAAAC,EAAA,sEACZC,IAAMC,KAAN,UAAcC,OAAd,2BACJL,GACL,CACIM,QAAS,CACLL,eALa,mFAAH,wDAUbM,EAAW,uCAAG,sBAAAL,EAAA,sEACVC,IAAMK,IAAN,UAAaH,OAAb,cADU,mFAAH,qDAKXI,EAAU,uCAAG,WAAOC,GAAP,SAAAR,EAAA,sEACTC,IAAMK,IAAN,UAAaH,OAAb,oBAAkDK,IADzC,mFAAH,sDAIVC,EAAa,uCAAG,WAAOC,EAAKZ,EAASC,GAArB,SAAAC,EAAA,sEACZC,IAAMU,IAAN,UAAaR,OAAb,oBAAkDO,GAAlD,eACJZ,GACL,CACIM,QAAS,CACLL,eALa,mFAAH,0DAUba,EAAa,uCAAG,WAAOF,EAAKX,GAAZ,SAAAC,EAAA,sEACZC,IAAMY,OAAN,UAAgBV,OAAhB,oBAAqDO,GAC9D,CACIN,QAAS,CACLL,eAJa,mFAAH,wDASbe,EAAU,uCAAG,WAAMN,EAAMO,EAAUhB,GAAtB,SAAAC,EAAA,sEACTC,IAAMU,IAAN,UAAaR,OAAb,iBACb,CAACK,OAAMO,YACP,CACIX,QAAS,CACLL,eALc,mFAAH,0DASNiB,EAAW,uCAAG,WAAOC,EAAMT,EAAMU,EAAWnB,GAA9B,SAAAC,EAAA,sEACVC,IAAMC,KAAN,UAAcC,OAAd,iBACTc,EACA,CACIb,QAAS,CACLL,YACAoB,KAAM,WACNX,OACAU,eARW,mFAAH,4DAeXE,EAAgB,uCAAG,WAAML,EAAUhB,GAAhB,SAAAC,EAAA,sEACfC,IAAMY,OAAN,UAAgBV,OAAhB,yBAA0DY,GACvE,CACIX,QAAS,CACLL,eAJoB,mFAAH,yD,6HC7DzBsB,EAAYC,IAAZD,QA2EOE,UAzEI,WAAO,IAAD,EAEWC,mBAAS,IAFpB,mBAEdC,EAFc,KAEJC,EAFI,KAIrBC,qBAAU,WACNtB,cAAcuB,MAAK,SAAAC,GACfH,EAAYG,EAAIZ,SACjBa,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAI,4BAA6BF,QAC1D,IAEHC,QAAQC,IAAI,WAAYR,GA4CxB,OACI,mCACI,eAAC,IAAD,CAAMS,iBAAiB,IAAIf,KAAK,OAAhC,UACI,cAACE,EAAD,CAASc,IAAI,4EAAb,SA1CJ,qBAAKC,UAAS,UAAKC,IAAQC,eAAb,cAAd,SACI,wBAAOF,UAAU,gCAAjB,UACI,uBAAOA,UAAU,aAAjB,SACI,qBAAIA,UAAU,cAAd,UACI,oBAAIG,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,gFACA,oBAAIA,MAAM,MAAV,sFACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,6CACA,oBAAIA,MAAM,MAAV,mGACA,oBAAIA,MAAM,MAAV,iFACA,oBAAIA,MAAM,MAAV,iMAGR,gCAEQd,EAASe,KAAI,SAACC,EAAGC,GACb,OACI,+BACI,6BAAKA,EAAQ,IACb,uBACA,6BAAKD,EAAEE,OACP,6BAAKF,EAAEG,QACP,6BAAKH,EAAEI,QACP,mCACA,mCACA,qCARKJ,EAAE/B,gBAwBE,KAGjC,cAACW,EAAD,CAASc,IAAI,mDAAb,kCAA4B,KAG5B,cAACd,EAAD,CAASc,IAAI,uCAAb,kCAA0B","file":"static/js/45.fc433e17.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\n\r\nexport const createProduct = async (product, authtoken) => {\r\n    return await axios.post(`${process.env.REACT_APP_API}/product`,\r\n        { ...product },\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            }\r\n        })\r\n}\r\n\r\nexport const getProducts = async () => {\r\n    return await axios.get(`${process.env.REACT_APP_API}/products`)\r\n}\r\n\r\n\r\nexport const getProduct = async (slug) => {\r\n    return await axios.get(`${process.env.REACT_APP_API}/product/${slug}`)\r\n}\r\n\r\nexport const updateProduct = async (_id, product, authtoken) => {\r\n    return await axios.put(`${process.env.REACT_APP_API}/product/${_id}`,\r\n        { ...product },\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            }\r\n        })\r\n}\r\n\r\nexport const removeProduct = async (_id, authtoken) => {\r\n    return await axios.delete(`${process.env.REACT_APP_API}/product/${_id}`,\r\n        {\r\n            headers: {\r\n                authtoken\r\n            }\r\n        })\r\n}\r\n\r\nexport const removeFile = async(slug, fileName, authtoken)=>{\r\n    return await axios.put(`${process.env.REACT_APP_API}/productImage`,\r\n    {slug, fileName},\r\n    {\r\n        headers: {\r\n            authtoken\r\n        }\r\n    })}\r\n\r\n    export const uploadImage = async (data, slug, slugBrand, authtoken) => {\r\n        return await axios.post(`${process.env.REACT_APP_API}/productImage`,\r\n            data,\r\n            {\r\n                headers: {\r\n                    authtoken,\r\n                    type: \"formData\",\r\n                    slug,\r\n                    slugBrand,\r\n                }\r\n            })\r\n    }\r\n\r\n    \r\n\r\n    export const removeUnusedFile = async(fileName, authtoken)=>{\r\n        return await axios.delete(`${process.env.REACT_APP_API}/unusedImages/${fileName}`,\r\n        {\r\n            headers: {\r\n                authtoken\r\n            }\r\n        })}","import React, { useState, useEffect } from 'react'\r\nimport { getProducts } from '../../../functions/product'\r\nimport classes from './Accounting.module.css'\r\nimport { Tabs, Radio } from 'antd';\r\nconst { TabPane } = Tabs;\r\n\r\nconst Accounting = () => {\r\n\r\n    const [products, setProducts] = useState([])\r\n\r\n    useEffect(() => {\r\n        getProducts().then(res => {\r\n            setProducts(res.data)\r\n        }).catch(err => console.log('error loading products ->', err))\r\n    }, [])\r\n\r\n    console.log('products', products)\r\n\r\n\r\n    const returnIncomingProducts=()=>{\r\n        return(\r\n            <div className={`${classes.tableContainer} container`}>\r\n                <table className=\"table table-bordered table-sm\">\r\n                    <thead className=\"thead-dark\">\r\n                        <tr className=\"text-center\">\r\n                            <th scope=\"col\" >№</th>\r\n                            <th scope=\"col\" >Изображение</th>\r\n                            <th scope=\"col\" >Наименование</th>\r\n                            <th scope=\"col\" >Brand</th>\r\n                            <th scope=\"col\" >Кол-во</th>\r\n                            <th scope=\"col\" >Закупочная цена</th>\r\n                            <th scope=\"col\" >Средняя цена</th>\r\n                            <th scope=\"col\" >Отгрузка со склада (средняя цена * 1.2)</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            products.map((p, index) => {\r\n                                return (\r\n                                    <tr key={p._id} >\r\n                                        <td>{index + 1}</td>\r\n                                        <td></td>\r\n                                        <td>{p.name}</td>\r\n                                        <td>{p.brand}</td>\r\n                                        <td>{p.count}</td>\r\n                                        <td>-</td>\r\n                                        <td>-</td>\r\n                                        <td>-</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Tabs defaultActiveKey=\"1\" type=\"card\" >\r\n                <TabPane tab=\"Приход товара\" key=\"1\">\r\n                    {returnIncomingProducts()}\r\n                </TabPane>\r\n                <TabPane tab=\"Отгрузки\" key=\"2\">\r\n                    Content of card tab 2\r\n                </TabPane>\r\n                <TabPane tab=\"Баланс\" key=\"3\">\r\n                    Content of card tab 3\r\n                </TabPane>\r\n            </Tabs>\r\n            \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Accounting"],"sourceRoot":""}